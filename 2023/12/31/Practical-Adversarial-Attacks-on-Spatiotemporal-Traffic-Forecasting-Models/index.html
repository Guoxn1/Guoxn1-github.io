

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Guoxin">
  <meta name="keywords" content="">
  
    <meta name="description" content="哇咔咔，明天就要2024年了嘞。 0 摘要 基于机器学习的交通预测模型利用复杂的时空自关联来提供全市交通状态的准确预测。（在交通预测中，通过分析历史交通数据中的自相关性模式，模型可以学习到交通状态之间的关联规律，并将这些规律应用于预测未来的交通状态）在本工作中，我们研究了时空流量预测模型的脆弱性，并提出了一个实用的对抗性时空攻击框架。 具体来说，不是攻击所有的地理分布数据源，一个迭代梯度引导">
<meta property="og:type" content="article">
<meta property="og:title" content="Practical Adversarial Attacks on Spatiotemporal Traffic Forecasting Models">
<meta property="og:url" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="哇咔咔，明天就要2024年了嘞。 0 摘要 基于机器学习的交通预测模型利用复杂的时空自关联来提供全市交通状态的准确预测。（在交通预测中，通过分析历史交通数据中的自相关性模式，模型可以学习到交通状态之间的关联规律，并将这些规律应用于预测未来的交通状态）在本工作中，我们研究了时空流量预测模型的脆弱性，并提出了一个实用的对抗性时空攻击框架。 具体来说，不是攻击所有的地理分布数据源，一个迭代梯度引导">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231228201150351.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231228205121415.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231228210947013.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231228211220141.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231229155122665.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231229161547092.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230112345507.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230112402435.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230140305808.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230142241352.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230151756528.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230151818953.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230152003739.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230173334474.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230173446061.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230205539720.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230210006022.png">
<meta property="og:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231230210217670.png">
<meta property="article:published_time" content="2023-12-31T09:13:12.000Z">
<meta property="article:modified_time" content="2024-01-02T08:20:31.052Z">
<meta property="article:author" content="Guoxin">
<meta property="article:tag" content="论文读后总结">
<meta property="article:tag" content="对抗样本">
<meta property="article:tag" content="车辆轨迹预测">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/image-20231228201150351.png">
  
  
  
  <title>Practical Adversarial Attacks on Spatiotemporal Traffic Forecasting Models - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.5","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Guoxin</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Practical Adversarial Attacks on Spatiotemporal Traffic Forecasting Models"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-12-31 17:13" pubdate>
          2023年12月31日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          7.1k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          60 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">Practical Adversarial Attacks on Spatiotemporal Traffic Forecasting Models</h1>
            
            
              <div class="markdown-body">
                
                <p>哇咔咔，明天就要2024年了嘞。</p>
<h1 id="摘要">0 摘要</h1>
<p>基于机器学习的交通预测模型利用复杂的时空自关联来提供全市交通状态的准确预测。（在交通预测中，通过分析历史交通数据中的自相关性模式，模型可以学习到交通状态之间的关联规律，并将这些规律应用于预测未来的交通状态）在本工作中，我们研究了时空流量预测模型的脆弱性，并提出了一个实用的对抗性时空攻击框架。</p>
<p>具体来说，不是攻击所有的地理分布数据源，一个迭代梯度引导的节点显著性方法被提出来去识别受害节点的时间相关性设置。此外，我们设计了一个时空梯度下降为基础的计划，在一个限制扰动下产生真实值对抗交通状态。同时，我们证明了对抗交通预测攻击的最坏表现。</p>
<p>在两个真实数据集上的大量实验表明，所提出的两步框架在各种先进的时空流量预测模型上取得了高达67.8%的性能下降。我们使用我们所提出的攻击进行对抗性训练，可以显著提高时空流量预测模型的鲁棒性。</p>
<p>代码：https://github.com/usail-hkust/Adv-ST。</p>
<h1 id="结论">1 结论</h1>
<p>本文揭示了时空交通预测模型在对抗攻击下的脆弱性。我们提出了一个实用的对抗时空攻击框架，该框架对预测模型的结构不可知，并且可以推广到各种攻击设置。</p>
<p>具体来说，我们首先构建了一个迭代梯度引导的节点显著性方法。然后我们提出了一个时空梯度下降为基础的计划，通过灵活地运用各种对抗扰动方法来生成实值对抗交通状态。理论证明了在，在人类无法察觉的受害节点选择预算和扰动预算约束下，所提出两步走的框架的上界。最后在真实数据集上的大量结果验证了所提出框架的有效性。</p>
<h1 id="介绍">2 介绍</h1>
<p>机器学习时空预测模型对时空预测模型的鲁棒性研究很少。例如，图1显示，在随机选择的几个节点上注入轻微的对抗扰动会显著降低整个系统的流量预测精度。因此，本文研究了流量预测模型在对抗攻击时的脆弱性。</p>
<p><img src="image-20231228201150351.png" srcset="/img/loading.gif" lazyload alt="image-20231228201150351" style="zoom:67%;"></p>
<p>一个针对加利福尼亚州湾区交通网络时空预测模型的对抗性攻击实例，数据范围为2017年1月至2017年5月。</p>
<p>(a)对地理分布数据的对抗性攻击。恶意攻击者可能会将对抗示例注入到随机选择的地理分布数据源中。(如道路传感器)，误导整个交通预测系统的预测。</p>
<p>(b)受害节点准确率下降。通过在10%的受害节点上增加少于50%的交通速度扰动，我们发现在早高峰时段受害节点的准确率下降了60.4%。</p>
<p>(c)邻近节点的准确率下降。由于时空预测模型的信息扩散，对抗性攻击对邻近节点的准确率也降低了约47.23%。</p>
<p>两个主要挑战阻碍了现有对抗性攻击策略在时空流量预测中的应用。首先，交通预测系统通过利用地理分布数据源(例如，数百个道路传感器和数千个车载GPS设备)的信号进行预测。操纵所有数据源以同时注入对抗扰动是昂贵和不切实际的。此外，最先进的交通预测模型通过交通网络传播局部交通状态，以获得更准确的预测[5]。攻击一些任意的数据源将导致整个系统的节点变化影响。</p>
<p>如何在攻击预算有限的情况下识别出突出的受害节点子集，使攻击效果最大化是该算法面临的第一个挑战。其次，与现有大多数对抗性攻击策略侧重于时不变标签分类[8,9]不同，流量预测对抗性攻击的目标是破坏目标模型，对连续流量状态做出有偏差的预测。另一个挑战是，如何在不了解未来交通状况真相的情况下生成真正有价值的对抗例子。</p>
<p>具体而言，我们首先设计了一种迭代的梯度引导方法来估计节点的显著性，这有助于识别一小组依赖于时间的受害节点。在一定约束下，提出了一种时空梯度下降方案来引导攻击方向并生成实值对抗流量状态。所提出的攻击框架不受预测模型体系结构的影响，并可推广到各种攻击设置，即白盒攻击、灰盒攻击和黑盒攻击。同时，从理论上分析了对抗性流量预测攻击的最差性能保证。证明了时空交通预测模型的对抗鲁棒性与受扰节点数、最大扰动界和交通网络最大程度有关。</p>
<p>在两个真实世界的交通数据集上的大量实验研究证明了所提出的框架在最先进的时空预测模型上的攻击有效性。研究表明，攻击流量系统中10%的节点可以使预测的全局平均误差从1.975降低到6.1329。在扩展白盒攻击和黑盒攻击设置下，对抗性攻击的性能分别下降68.65%和56.67%。最后，我们还表明，将我们生成的对抗例子与对抗训练相结合，可以显著提高时空交通预测模型的鲁棒性。</p>
<h1 id="背景和问题陈述">3 背景和问题陈述</h1>
<p>在本节中，我们首先介绍时空流量预测和对抗性攻击的一些基础知识，然后正式定义我们要解决的问题。</p>
<h2 id="时空交通预测">3.1 时空交通预测</h2>
<p>令Gt
=（V，E）表示时间步t处的交通网络，其中V是n个节点的集合（例如，区域、路段、道路传感器等）E是一组边。</p>
<p>原文说的很好，很专业。咱就直接复制了。大白话就是，输入过去t时刻所有的：当前的状态和交通网络，输出是未来t1时刻的交通状态估计。</p>
<p>原文如下：</p>
<p><img src="image-20231228205121415.png" srcset="/img/loading.gif" lazyload alt="image-20231228205121415" style="zoom:67%;"></p>
<p>上述公式最重要的是Ht，表示要输入模型的东西。上述公式与最先进的基于图神经网络(Graph
Neural Network, GNN)的时空交通预测模型一致[2,10,11,12]。</p>
<h2 id="对抗性攻击">3.2 对抗性攻击</h2>
<p>在给定的机器学习模型中，对抗性攻击的目的是通过生成最优对抗性实例来误导模型得出有偏差的预测。不多说了。</p>
<h2 id="对时空交通预测的对抗性攻击">3.3 对时空交通预测的对抗性攻击</h2>
<p>本工作旨在将对抗性攻击应用于时空流量预测模型。我们首先定义对抗交通状态如下:</p>
<p><img src="image-20231228210947013.png" srcset="/img/loading.gif" lazyload alt="image-20231228210947013" style="zoom:80%;"></p>
<p>其中St是一个n×n的对角矩阵，第i个对角元素表示节点i是否为受害节点，X't是扰动的时空特征，被称为对抗时空特征。</p>
<p>我们通过受害者节点预算η和扰动预算ε来限制对抗性业务状态。请注意，根据对抗性攻击的定义，我们将Gt的拓扑结构保持不变，因为我们将邻接关系视为模型参数的一部分，可以以端到端的方式自动学习。</p>
<p>进攻目标。攻击者的目标是制作敌对的交通状态，以欺骗时空预测模型，从而得出有偏见的预测。形式上，给定时空预测模型fθ（·），针对时空流量预测的对抗性攻击定义为：</p>
<p><img src="image-20231228211220141.png" srcset="/img/loading.gif" lazyload alt="image-20231228211220141" style="zoom: 80%;"></p>
<p>Ttest和Ttrain分别表示所有测试样本和训练样本的时间步长集合。L(·)是测量预测的交通状态与地面真值之间距离的损失函数，θ∗是训练阶段学习到的最优参数。</p>
<p>这个公式翻译成人话就是，第一，在测试阶段，最大化对抗样本的预测值和真实值之间损失函数的值。第二，模型的参数是训练过程中，正常样本的预测值和真实值的损失函数最小的参数。</p>
<p>由于时空流量预测设置下的ground
truth(即未来的流量状态)在运行时不可用，因此实际对敌时空攻击主要属于灰盒攻击设置。然而，研究白盒攻击仍然有助于我们理解对抗性攻击的工作原理，有助于提高时空流量预测模型的鲁棒性(如应用对抗性训练)。</p>
<h1 id="方法">4 方法</h1>
<p>在本节中，我们详细介绍了实用的对抗性时空攻击框架。具体来说，我们的框架包括两个步骤:(1)识别依赖时间的受害者节点，(2)攻击与对抗流量状态。</p>
<h2 id="识别依赖时间的受害者节点">4.1 识别依赖时间的受害者节点</h2>
<p>区分攻击时空预测和传统分类任务的一个点是在测试阶段是否能获得真值（ground
truth）。因此，我们首先构造未来流量状态的代理标签来引导攻击方向。我们通过构建替代标签来代替真实标签。这个替代标签可能是根据其他信息或模型预测得到的，它可以作为攻击过程中的参考，指导我们对未来交通状态进行攻击的方向和调整。</p>
<figure>
<img src="image-20231229155122665.png" srcset="/img/loading.gif" lazyload alt="image-20231229155122665">
<figcaption aria-hidden="true">image-20231229155122665</figcaption>
</figure>
<p>原文如下：</p>
<p>大致意思是说，替代标签就是一个作用在之前状态上的函数的结果外加一个随机分布。然后又推导出相关节点显著性。时态节点显著性"是指在时空预测任务中，对于网络中的每个节点，我们通过分析其在时间维度上的变化和影响，来评估其重要性或显著性。时态节点显著性可以帮助我们理解节点在不同时间点上的贡献和影响力，进而指导我们在攻击或优化任务中的决策。</p>
<p>推导过程就是预测值和替代标签的损失函数对X求偏导再经过损失函数得到。并且损失函数通过迭代的基于梯度的对抗方法进行更新。</p>
<p><img src="image-20231229161547092.png" srcset="/img/loading.gif" lazyload alt="image-20231229161547092" style="zoom:67%;"></p>
<figure>
<img src="image-20231230112345507.png" srcset="/img/loading.gif" lazyload alt="image-20231230112345507">
<figcaption aria-hidden="true">image-20231230112345507</figcaption>
</figure>
<p>公式粘贴了。首先制作了对抗样本X‘，制作过程就是上面的式子，按照梯度的方向进行更新，然后用到了剪裁操作。</p>
<p>下面又讲了对于每批数据，H和Y，H是给预测模型的输入，Y’此时是代理的真值。那么时间相关节点显著性梯度由下式导出，使用的relu函数来更新Mt：</p>
<p><img src="image-20231230112402435.png" srcset="/img/loading.gif" lazyload alt="image-20231230112402435" style="zoom:67%;"></p>
<p>最后，我们根据Mt得到受害节点的集合St。s(i,i),t：这表示St矩阵的第i个对角元素，其中St是一个矩阵。Top(·)：这是一个函数，它接受一个参数，并返回一个0或1的指示符，用于确定节点vi是否是在时间步骤t中排名前k个显著节点中的一个。。</p>
<p>这里的Mt就是和上面的Mt相对应，相当于是一种解释。</p>
<h2 id="对抗性流量状态攻击">4.2 对抗性流量状态攻击</h2>
<p>基于时间依赖的受害者集，我们进行时空流量预测模型的对抗性攻击。具体来说，我们首先基于梯度下降方法生成扰动对抗流量特征。以广泛使用的投影梯度下降（PGD）[8]为例，我们构建时空投影梯度下降（STPGD）如下，</p>
<figure>
<img src="image-20231230140305808.png" srcset="/img/loading.gif" lazyload alt="image-20231230140305808">
<figcaption aria-hidden="true">image-20231230140305808</figcaption>
</figure>
<p>这里面只对选定的受害节点上注入扰动，和上面的式子几乎一样。而且作者提到可以通过扩展其他基于梯度的方法，比如，MIM等来生成对抗性流量特征。（MIM攻击基于迭代的梯度方向上的扰动，并引入了动量项以增加攻击的成功率。）</p>
<p>在测试阶段，我们可以注入对抗性流量状态来实施对抗性攻击。在这里引入了<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.576ex;" xmlns="http://www.w3.org/2000/svg" width="2.756ex" height="2.294ex" role="img" focusable="false" viewbox="0 -759 1218.3 1013.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="msubsup"><g data-mml-node="mi"><path data-c="1D43B" d="M228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637Z"/></g><g data-mml-node="mo" transform="translate(973.9,363) scale(0.707)"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z"/></g><g data-mml-node="mi" transform="translate(864,-247) scale(0.707)"><path data-c="1D461" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"/></g></g></g></g></svg></mjx-container>，多引入一个变量，看一下前面的其实很好理解，这里主要是想把H‘和H关联起来，证明它们之间有这么个差距。</p>
<figure>
<img src="image-20231230142241352.png" srcset="/img/loading.gif" lazyload alt="image-20231230142241352">
<figcaption aria-hidden="true">image-20231230142241352</figcaption>
</figure>
<p>白盒攻击由于对手可以完全访问白盒设置下的数据和标签，我们直接使用真实的地面实况流量状态，以指导敌对流量状态的生成。</p>
<p>黑盒攻击最严格的黑盒设置假定对目标模型和标签的可访问性有限。因此，我们首先采用一个代理模型，它可以从训练数据中学习，也可以通过查询流量预测服务来学习[16，17]。然后基于代理模型生成对抗性流量状态，对目标流量预测模型进行攻击。</p>
<p>我们以所提出的对抗性攻击策略的理论上限分析来结束本节。特别是，我们证明了对时空流量预测模型的攻击性能与所选择的受害者节点的数量，对抗性扰动的预算以及流量网络拓扑结构有关。</p>
<p>提出理论：</p>
<figure>
<img src="image-20231230151756528.png" srcset="/img/loading.gif" lazyload alt="image-20231230151756528">
<figcaption aria-hidden="true">image-20231230151756528</figcaption>
</figure>
<p>其中的Z就是模型的输出，原文如下：</p>
<p><img src="image-20231230151818953.png" srcset="/img/loading.gif" lazyload alt="image-20231230151818953" style="zoom:67%;"></p>
<p>但是后面这几个参数都比较陌生，尤其是<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.05ex;" xmlns="http://www.w3.org/2000/svg" width="4.756ex" height="1.645ex" role="img" focusable="false" viewbox="0 -705 2102 727"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D706" d="M166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673Z"/></g><g data-mml-node="mi" transform="translate(583,0)"><path data-c="1D435" d="M231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229Z"/></g><g data-mml-node="mi" transform="translate(1342,0)"><path data-c="1D436" d="M50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252Z"/></g></g></g></svg></mjx-container></span>,η和ε分别是受害节点数和扰动数的预算。为什么这么定义呢，不知道。</p>
<p>灰盒下对抗算法如下：</p>
<p><img src="image-20231230152003739.png" srcset="/img/loading.gif" lazyload alt="image-20231230152003739" style="zoom:67%;"></p>
<p>第一步识别受害节点，第二步进行K次迭代，每次生成对抗样本X'，即对抗时空特征，然后计算<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.62ex" role="img" focusable="false" viewbox="0 -716 833 716"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"/></g></g></g></svg></mjx-container></span>H'，最后计算<span class="math inline"><mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.885ex" height="1.62ex" role="img" focusable="false" viewbox="0 -716 833 716"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"/></g></g></g></svg></mjx-container></span>H'和H的和返回H'，这个H’就是要生成的扰动对抗交通状态。</p>
<h1 id="实验">5 实验</h1>
<h2 id="实验设置">5.1 实验设置</h2>
<p>数据集。我们使用两个流行的真实世界数据集来证明所提出的对抗性攻击框架的有效性。(1)PEMS-BAY
[18]交通数据集来自加州运输机构（CalTrans）绩效测量系统（PeMS），范围为2017年1月1日至2017年5月31日。湾区的325个交通传感器每5分钟收集一次交通数据。(2)METR-LA
[19]是从207个洛杉矶县道路传感器收集的交通速度数据集。交通速度每5分钟记录一次，范围从2012年3月1日至2012年6月30日。对于评估，所有数据集都是按时间顺序排列的，我们将前70%用于训练，接下来的10%用于验证，其余20%用于测试。两个数据集的统计量报告见附录C。</p>
<p>基线。在目前的文献中，很少有研究可以直接应用到实值流量预测攻击设置。为了保证比较的公平性，我们构建了如下两步基线。对于受害者节点识别，我们采用随机选择并使用基于拓扑的方法（即，节点度和介数中心性[20]）来选择受害者节点。我们还使用PageRank（PR）[21]作为基准来决定受害者节点的集合。对于对抗性交通状态生成，我们采用两种广泛使用的基于迭代梯度的方法PGD
[8]和MIM
[9]来生成对抗性扰动。总之，我们构建了八个两步基线，PGDRandom，PGD-PR，PGD-Centrality，PGD-Degree，MIM-Random，MIM-PR，MIM-Centrality和MIM-Degree。例如，PGD-PR表示首先使用PageRank识别受害者节点，然后使用PGD应用对抗性噪声。根据对抗扰动方法，我们比较了我们提出的框架的两个变体，即STPGD-TDNS和STMIM-TDNS。</p>
<p>这表示我们的方法是基于找出显著性节点的时空投影梯度下降法。</p>
<p><img src="image-20231230173334474.png" srcset="/img/loading.gif" lazyload alt="image-20231230173334474" style="zoom:67%;"></p>
<p>结果很好。</p>
<p>目标模型。为了评估所提出的对抗性攻击框架的泛化能力，我们采用了最先进的时空流量预测模型GraphWaveNet（Gwnet）[2]作为目标模型。</p>
<p>评价指标。我们的评估集中在对抗性攻击对时空模型的全局和局部影响，</p>
<figure>
<img src="image-20231230173446061.png" srcset="/img/loading.gif" lazyload alt="image-20231230173446061">
<figcaption aria-hidden="true">image-20231230173446061</figcaption>
</figure>
<p>其中L（·）是用户定义的损失函数。不同于对抗性攻击的大多数目标是分类模型（例如，对抗精度），流量预测被定义为回归任务。因此，我们采用平均误差（MAE）[22]和均方根误差（RMSE）[23]进行评估。更具体地说，我们定义了全局MAE（G-MAE），局部MAE（L-MAE），全局RMSE（G-RMSE），局部RMSE（L-RMSE）来评估对抗性攻击对流量预测的影响。</p>
<p>实施细节。所有实验均使用PyTorch实现，在具有4个RTX 3090
GPU的Linux服务器上进行。流量速度归一化为[0，1]。输入长度T和输出长度τ被设置为12。我们从所有节点中选择10%的节点作为受害节点，ε设置为0.5。批量大小γ设定为64。迭代K被设置为5，并且步长α被设置为0.1。</p>
<h2 id="总体攻击表现">5.2 总体攻击表现</h2>
<p>我们的对抗性攻击框架成功地破坏了流量预测模型，做出了有偏见的预测。</p>
<h2 id="消融研究">5.3 消融研究</h2>
<p>我们考虑我们的方法的两种变体：（1
TDNS，随机选择受害者节点进行攻击，以及（2）STPGD，将普通PGD噪声应用于选定的受害者节点。</p>
<p>上述结果证明了两步框架的有效性。此外，我们观察到STPGD模块在对抗时空攻击中起着更重要的作用。</p>
<p><img src="image-20231230205539720.png" srcset="/img/loading.gif" lazyload alt="image-20231230205539720" style="zoom:67%;"></p>
<h2 id="参数敏感性">5.4 参数敏感性</h2>
<p>我们进一步研究了该框架的参数敏感性，包括受害节点数η、扰动预算ε和批次大小γ。由于页数限制，我们在PeMS-Bay数据集上报告了G-RMSE的结果。我们通过使用其他指标和在METR-LA数据集上观察到类似的结果。每次更改一个参数时，都会将其他参数设置为其缺省值。</p>
<p>参数的影响如上图所示。前两个好理解，一个是受害节点数目，一个是扰动预算，太大的批量大小降低了攻击性能，这可能导致方程8的过度平滑。</p>
<h2 id="不同攻击设置下的扩展分析">5.5 不同攻击设置下的扩展分析</h2>
<p>表3报告了我们提出的方法在白盒和黑盒攻击设置下针对原始预测模型和四个基于PGD的基线的整体攻击性能。对于白盒攻击，由于攻击者可以完全访问数据和模型，因此我们重新训练预测模型，而无需估计最新的流量状态。对于黑盒攻击，我们采用STAWNET
[12]作为代理模型。</p>
<p>首先，我们发现对抗攻击在白盒和黑盒两种情况下都会显著降低流量预测模型的性能。例如，在白盒和黑盒攻击下，该方法与普通预测模型相比，总体性能分别下降了(68.65%，66.12%)和(56.67%，50.78%)。此外，我们的方法始终如一地在基线上获得最佳的攻击性能。更具体地说，我们的方法在白盒设置和黑盒设置下分别产生(4.61%，9.13%)和(1.70%，3.28%)全局性能改进。</p>
<p><img src="image-20231230210006022.png" srcset="/img/loading.gif" lazyload alt="image-20231230210006022" style="zoom:67%;"></p>
<p>另外，我们发现白盒设置下的攻击效率比灰盒设置下的攻击效率高，黑盒设置下的攻击效率比灰盒设置下的攻击效率低。这是有意义的，因为白盒设置可以完全访问数据和标签，而黑盒具有更多的限制数据可访问性，并依赖代理模型来应用对抗性时空攻击。</p>
<h2 id="防御对抗性时空攻击">5.6 防御对抗性时空攻击</h2>
<p>最后，我们研究了对抗性时空攻击的防御。我们研究的一个主要目标是帮助提高时空预测模型的鲁棒性。因此，我们建议将交通预测模型的对抗训练方案与我们的对抗交通状态(用AT-TNDS表示)相结合。我们将其与(1)传统的对敌训练(AT)[8]和(2)将[24]与我们的对敌交通状态混淆。值得注意的是，我们也尝试了其他策略，如添加L2正则化等，但这些策略无法防御对抗性时空攻击。其他最先进的对抗训练方法，如TRADE[25]，不能直接应用于回归任务。</p>
<p>表4报告了pms -
bay上G-MAE的结果。总的来说，我们观察到AT或Mixup能够成功抵抗对抗性时空攻击，将对抗性训练方案与我们的对抗性流量状态相结合的AT-
tdns能够获得最佳的防御性能。上述结果表明了对抗性时空攻击的可防御性，为提供更可靠的时空预测服务，还需要进一步研究。</p>
<p><img src="image-20231230210217670.png" srcset="/img/loading.gif" lazyload alt="image-20231230210217670" style="zoom:67%;"></p>
<h1 id="相关工作">6 相关工作</h1>
<p>时空交通预测。近年来，基于深度学习的交通预测模型因其在联合建模时空相关性方面的优势而得到了广泛的研究[10,11,6,26,2,12,27,28]。例如，STGCN[10]应用图卷积和门控因果卷积来捕获交通域的时空信息，ASTGCN[11]提出了用于捕获动态时空相关性的时空注意网络。另一个例子是，GraphWaveNet[2]自适应地捕获潜在的空间依赖关系，而不需要对图结构的先验知识。上述模型的主要目标是实现更准确的交通预测。时空交通预测模型的脆弱性仍然是一个有待研究的问题。</p>
<p>对抗性攻击。深度神经网络已被证明容易受到敌对例子的攻击[8,14]。作为一个新兴的方向，人们提出了各种针对图结构数据的对抗性攻击策略，包括目标攻击和非目标攻击[29,30]。然而，现有对抗攻击的研究主要集中在具有静态标签的分类任务上[9,24]。只有少数研究基于GCN的时空预测模型在基于查询的攻击[31]下的脆弱性，以及基于进化算法[32]生成对抗实例。本文研究了针对时空流量预测模型的基于梯度的对抗性攻击方法，该方法不依赖于模型，可推广到各种攻击设置，即白盒攻击、灰盒攻击和黑盒攻击。</p>
<h1 id="代码复现">7 代码复现</h1>
<p>暂且没复现，试了以下环境好难配，目前专注于车道线预测的对抗样本生成。以后需要再补。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E8%AE%BA%E6%96%87%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/" class="category-chain-item">论文读后总结</a>
  
  
    <span>></span>
    
  <a href="/categories/%E8%AE%BA%E6%96%87%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/%E5%AF%B9%E6%8A%97%E6%A0%B7%E6%9C%AC/" class="category-chain-item">对抗样本</a>
  
  
    <span>></span>
    
  <a href="/categories/%E8%AE%BA%E6%96%87%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/%E5%AF%B9%E6%8A%97%E6%A0%B7%E6%9C%AC/%E8%BD%A6%E8%BE%86%E8%BD%A8%E8%BF%B9%E9%A2%84%E6%B5%8B/" class="category-chain-item">车辆轨迹预测</a>
  
  

  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E8%AE%BA%E6%96%87%E8%AF%BB%E5%90%8E%E6%80%BB%E7%BB%93/" class="print-no-link">#论文读后总结</a>
      
        <a href="/tags/%E5%AF%B9%E6%8A%97%E6%A0%B7%E6%9C%AC/" class="print-no-link">#对抗样本</a>
      
        <a href="/tags/%E8%BD%A6%E8%BE%86%E8%BD%A8%E8%BF%B9%E9%A2%84%E6%B5%8B/" class="print-no-link">#车辆轨迹预测</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Practical Adversarial Attacks on Spatiotemporal Traffic Forecasting Models</div>
      <div>http://example.com/2023/12/31/Practical-Adversarial-Attacks-on-Spatiotemporal-Traffic-Forecasting-Models/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Guoxin</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年12月31日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/01/02/On-Adversarial-Robustness-of-Trajectory-Prediction-for-Autonomous-Vehicles/" title="On Adversarial Robustness of Trajectory Prediction for Autonomous Vehicles">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">On Adversarial Robustness of Trajectory Prediction for Autonomous Vehicles</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/12/28/A-Gentle-Introduction-to-Graph-Neural-Networks/" title="A Gentle Introduction to Graph Neural Networks">
                        <span class="hidden-mobile">A Gentle Introduction to Graph Neural Networks</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
